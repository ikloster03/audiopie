---
description: generation commit message
alwaysApply: false
---
# Git Commit Guidelines

## ü§ñ Automated Validation

This project uses **commitlint** with git hooks to automatically validate commit messages.

- **commitlint**: Enforces conventional commit format
- **husky**: Manages git hooks to run validation before commits
- Configuration: `.commitlintrc.json`

All commits are automatically checked before being saved. Invalid commit messages will be rejected.

## Commit Message Format

### Conventional Commits

Use the conventional commits format for all commit messages:

```
<type>(<scope>): <subject>

<body>

<footer>
```

**Format requirements (enforced by commitlint):**
- Type must be lowercase
- Type must be from the allowed list (see below)
- Subject is required after the colon
- Scope is optional but recommended for clarity

### Types

The following types are **enforced by commitlint**:

- **feat**: New feature for the user
- **fix**: Bug fix for the user
- **refactor**: Code refactoring (no functional changes)
- **docs**: Documentation changes
- **style**: Code formatting (no code logic changes)
- **test**: Adding or updating tests
- **chore**: Maintenance tasks (deps, config, build)
- **perf**: Performance improvements
- **build**: Changes to build system or external dependencies
- **ci**: Changes to CI configuration files and scripts
- **revert**: Reverts a previous commit

### Scope (optional)

Project-specific scopes for better organization:

- `main`: Main process changes
- `renderer`: Renderer process changes
- `ipc`: IPC communication changes
- `ui`: UI/component changes
- `ffmpeg`: FFmpeg integration
- `build`: Build configuration
- `deps`: Dependencies
- `hooks`: Git hooks and commitlint configuration

### Examples

**‚úÖ Good commits (will pass commitlint):**
```
feat(ffmpeg): add progress streaming for encoding
fix(ipc): validate file paths to prevent directory traversal
refactor(ui): extract track list logic into custom hook
docs: update README with FFmpeg requirements
style(renderer): format components with prettier
chore(deps): update electron to v31
build: configure electron-builder for Windows
ci: add GitHub Actions workflow
perf(ffmpeg): optimize audio encoding pipeline
revert: revert "feat(ffmpeg): add experimental feature"
```

**‚ùå Bad commits (will be rejected by commitlint):**
```
fixed bug          # Missing type prefix
FEAT: new feature  # Type must be lowercase
feat : spacing     # Extra space before colon
update             # Not descriptive, missing type
feat(UI): change   # Scope should be lowercase
asdfasdf           # Not a real message
WIP                # Not meaningful
```

## Commit Best Practices

### Language

- **Write ALL commit messages in English** (project requirement)
- Use imperative mood ("add feature" not "added feature")
- Be concise but descriptive
- Explain WHY, not just WHAT

### Atomic Commits

- Keep commits focused on a single logical change
- Don't mix refactoring with features
- Don't mix formatting with logic changes
- Each commit should be buildable and testable

### Message Quality

- **Subject line**: max 50-72 characters, lowercase type
- **Body**: wrap at 72 characters, explain context
- **Footer**: reference issues/PRs if applicable (e.g., `Closes #123`)
- Use bullets for multiple changes (if unavoidable)

### When to Commit

- After completing a feature or fix
- After refactoring a module
- Before switching to another task
- After each logical step in complex changes

### What NOT to Commit

- Work in progress (unless marked as WIP and on feature branch)
- Broken code or failing tests
- Debug console.log statements
- Commented-out code blocks
- Temporary files or experiments
- Sensitive data (keys, tokens, passwords)

## Testing Commit Messages

You can test your commit messages before committing:

```bash
# Test a commit message
echo "feat(ui): add new button" | npx commitlint

# This will show if the message passes validation
```

## Bypassing Validation (Not Recommended)

In rare cases where you need to bypass commitlint:

```bash
git commit --no-verify -m "your message"
```

**‚ö†Ô∏è Warning:** Only use `--no-verify` in exceptional circumstances. The validation exists to maintain code quality and project standards.

## Configuration

The commitlint configuration is defined in `.commitlintrc.json`:
- Extends `@commitlint/config-conventional`
- Enforces the types listed above
- Can be customized for project-specific needs

For more information:
- [Commitlint Documentation](https://commitlint.js.org/)
- [Conventional Commits](https://www.conventionalcommits.org/)
